<template id="yi-pet-chat-input-template">
    <div class="yi-pet-chat-input-container chat-input-container" ref="rootEl">
        <div class="yi-pet-chat-toolbar chat-input-toolbar">
            <div class="yi-pet-chat-toolbar-left chat-input-btn-group">
                <button type="button" class="yi-pet-chat-btn chat-input-btn chat-input-text-btn ui-btn" title="ÁºñËæëÈ°µÈù¢‰∏ä‰∏ãÊñá" aria-label="È°µÈù¢‰∏ä‰∏ãÊñá" @click.stop="onContextClick">üìù</button>
                <button type="button" class="yi-pet-chat-btn chat-input-btn chat-input-text-btn ui-btn" title="ÁºñËæëÂΩìÂâç‰ºöËØù‰ø°ÊÅØÔºàÊ†áÈ¢ò„ÄÅÊèèËø∞Á≠âÔºâ" aria-label="ÁºñËæë‰ºöËØù" id="edit-session-btn" @click.stop="onEditSessionClick">‚úèÔ∏è</button>
                <button type="button" class="yi-pet-chat-btn chat-input-btn chat-input-text-btn ui-btn" title="ÁÆ°ÁêÜ‰ºöËØùÊ†áÁ≠æ" aria-label="Ê†áÁ≠æÁÆ°ÁêÜ" @click.stop="onTagManagerClick">üè∑Ô∏è</button>
                <button type="button" class="yi-pet-chat-btn chat-input-btn chat-input-text-btn ui-btn" title="Â∏∏ËßÅÈóÆÈ¢ò" aria-label="Â∏∏ËßÅÈóÆÈ¢ò" @click.stop="onFaqClick">üí°</button>
                <button type="button" class="yi-pet-chat-btn chat-input-btn chat-input-text-btn ui-btn" title="ÂæÆ‰ø°Êú∫Âô®‰∫∫ËÆæÁΩÆ" aria-label="ÂæÆ‰ø°Êú∫Âô®‰∫∫ËÆæÁΩÆ" @click.stop="onWeChatClick">ü§ñ</button>
                <button type="button" class="yi-pet-chat-btn chat-input-btn chat-input-text-btn ui-btn" title="‰∏ä‰º†ÂõæÁâá" aria-label="‰∏ä‰º†ÂõæÁâá" @click.stop="onImageClick">üñºÔ∏è</button>
                <input ref="imageInputEl" type="file" accept="image/*" multiple class="js-hidden" id="yi-pet-chat-image-input" @change="onImageInputChange" />
            </div>

            <div class="yi-pet-chat-toolbar-right chat-input-btn-group">
                <div
                    ref="contextSwitchContainerEl"
                    class="context-switch-container"
                    :class="{ active: contextSwitchEnabled }"
                    title="ÂºÄÂêØ/ÂÖ≥Èó≠È°µÈù¢‰∏ä‰∏ãÊñáÔºåÂ∏ÆÂä©AIÁêÜËß£ÂΩìÂâçÈ°µÈù¢ÂÜÖÂÆπ"
                    @click.stop="toggleContextSwitch"
                >
                    <span class="context-switch-label">È°µÈù¢‰∏ä‰∏ãÊñá</span>
                    <div class="context-switch-wrapper">
                        <div class="context-switch-thumb"></div>
                    </div>
                    <input
                        type="checkbox"
                        id="context-switch"
                        class="context-switch-input"
                        :checked="contextSwitchEnabled"
                        @click.stop
                        @change.stop="onContextSwitchChange"
                    />
                </div>

                <button
                    ref="requestStatusButtonEl"
                    type="button"
                    id="request-status-btn"
                    class="chat-input-status-btn"
                    aria-label="ËØ∑Ê±ÇÁä∂ÊÄÅ"
                    title="ËØ∑Ê±ÇÁä∂ÊÄÅÔºöÁ©∫Èó≤"
                    disabled
                    @click.stop="onRequestStatusClick"
                >‚èπÔ∏è</button>
            </div>
        </div>

        <div class="chat-input-wrapper">
            <div ref="draftImagesEl" class="yi-pet-chat-draft-images js-hidden" aria-label="ÂæÖÂèëÈÄÅÂõæÁâá"></div>
            <div class="yi-pet-chat-input-row">
                <textarea
                    ref="textareaEl"
                    id="yi-pet-chat-input"
                    class="yi-pet-chat-textarea chat-message-input"
                    placeholder="ËæìÂÖ•Ê∂àÊÅØ... (Shift+Enter Êç¢Ë°åÔºåEnter ÂèëÈÄÅ)"
                    rows="4"
                    aria-label="‰ºöËØùËæìÂÖ•Ê°Ü"
                    @input="onTextareaInput"
                    @keydown="onTextareaKeydown"
                    @paste="onTextareaPaste"
                    @compositionstart="onCompositionStart"
                    @compositionupdate="onCompositionUpdate"
                    @compositionend="onCompositionEnd"
                ></textarea>
            </div>
        </div>
    </div>
</template>
