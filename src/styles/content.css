/* Chrome扩展内容脚本样式 */

/* 确保宠物在所有网站上都能正常显示 */
#chrome-pet-container,
#token-settings-modal,
#pet-tag-manager,
#pet-context-editor,
.pet-faq-modal,
.pet-notification,
.pet-export-toast {
    --primary: #667eea;
    --primary-hover: #5a67d8;
    --primary-light: #818cf8;
    --primary-dark: #4f46e5;
    --primary-rgb: 102, 126, 234;
    --primary-alpha: rgba(102, 126, 234, 0.1);
    --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
    --primary-gradient-hover: linear-gradient(135deg, #5a67d8 0%, #6b46c1 50%, #d946ef 100%);

    --accent: #06b6d4;
    --accent-rgb: 6, 182, 212;
    --success: #22c55e;
    --warning: #f59e0b;
    --error: #ef4444;
    --info: #3b82f6;
    --info-rgb: 59, 130, 246;

    --success-gradient: linear-gradient(135deg, #22c55e 0%, #16a34a 50%, #15803d 100%);
    --warning-gradient: linear-gradient(135deg, #f59e0b 0%, #d97706 50%, #b45309 100%);
    --error-gradient: linear-gradient(135deg, #ef4444 0%, #dc2626 50%, #b91c1c 100%);
    --info-gradient: linear-gradient(135deg, #3b82f6 0%, #2563eb 50%, #1d4ed8 100%);
    --gradient-secondary: linear-gradient(135deg, #06b6d4 0%, #3b82f6 50%, #6366f1 100%);
    --gradient-primary: linear-gradient(135deg, #6366f1 0%, #8b5cf6 50%, #a855f7 100%);

    --bg-primary: #0f172a;
    --bg-secondary: #1e293b;
    --bg-tertiary: #334155;
    --bg-primary-rgb: 15, 23, 42;
    --bg-secondary-rgb: 30, 41, 59;
    --bg-tertiary-rgb: 51, 65, 85;
    --bg-elevated: rgba(30, 41, 59, 0.9);
    --bg-hover: rgba(255, 255, 255, 0.05);
    --bg-glass: rgba(255, 255, 255, 0.03);

    --text-primary: #f8fafc;
    --text-secondary: #e2e8f0;
    --text-muted: #94a3b8;
    --text-tertiary: #64748b;
    --text-on-accent: #ffffff;
    --text-primary-rgb: 248, 250, 252;
    --text-secondary-rgb: 226, 232, 240;
    --text-muted-rgb: 148, 163, 184;

    --border-primary: rgba(255, 255, 255, 0.12);
    --border-secondary: rgba(6, 182, 212, 0.3);
    --border-focus: #06b6d4;
    --border-glass: rgba(255, 255, 255, 0.08);
    --border-hover: rgba(255, 255, 255, 0.2);

    --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.4);
    --shadow-md: 0 4px 16px rgba(0, 0, 0, 0.5);
    --shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.6);
    --shadow-primary: 0 4px 20px rgba(102, 126, 234, 0.4), 0 0 0 1px rgba(255, 255, 255, 0.1) inset;
}

#chrome-pet-container {
    position: fixed !important;
    z-index: 2147483647 !important;
    pointer-events: auto !important;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;
}

/* 重置可能被网站样式影响的属性 */
#chrome-pet-container * {
    box-sizing: border-box !important;
    margin: 0 !important;
    padding: 0 !important;
    border: none !important;
    outline: none !important;
    background: transparent !important;
    color: inherit !important;
    font: inherit !important;
    text-decoration: none !important;
    list-style: none !important;
    quotes: none !important;
    content: none !important;
}

/* 宠物主体样式 */
#chrome-pet {
    position: relative !important;
    display: block !important;
    width: 80px !important;
    height: 80px !important;
    animation: chromePetFloat 3s ease-in-out infinite !important;
}

.chrome-pet-body {
    position: relative !important;
    display: block !important;
    width: 100% !important;
    height: 100% !important;
    /* background-image: url('assets/pet.png'); */ /* 通过JS设置 */
    background-size: contain !important;
    background-repeat: no-repeat !important;
    background-position: center bottom !important;
    filter: drop-shadow(0 4px 8px rgba(0,0,0,0.3)) !important;
    transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1) !important;
    cursor: grab !important;
}

.chrome-pet-body:active {
    cursor: grabbing !important;
    transform: scale(0.95) !important;
}

/* 气泡对话框 */
.chrome-pet-bubble {
    position: absolute !important;
    bottom: 100% !important;
    left: 50% !important;
    transform: translateX(-50%) translateY(-10px) !important;
    background: white !important;
    padding: 12px 16px !important;
    border-radius: 12px !important;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15) !important;
    font-size: 14px !important;
    color: #333 !important;
    white-space: nowrap !important;
    opacity: 0 !important;
    visibility: hidden !important;
    transition: all 0.3s ease !important;
    pointer-events: none !important;
    z-index: 100 !important;
    border: 1px solid rgba(0,0,0,0.05) !important;
}

.chrome-pet-bubble::after {
    content: '' !important;
    position: absolute !important;
    top: 100% !important;
    left: 50% !important;
    transform: translateX(-50%) !important;
    border-width: 6px !important;
    border-style: solid !important;
    border-color: white transparent transparent transparent !important;
}

.chrome-pet-bubble.show {
    opacity: 1 !important;
    visibility: visible !important;
    transform: translateX(-50%) translateY(-20px) !important;
}

@keyframes chromePetFloat {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-6px); }
}

/* Screenshot Mode - Hide UI elements */
body.yi-pet-screenshot-mode #pet-chat-window,
body.yi-pet-screenshot-mode #chat-assistant-element,
body.yi-pet-screenshot-mode .yi-pet-ui-element {
    display: none !important;
}
