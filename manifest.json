{
  "manifest_version": 3,
  "name": "温柔陪伴助手",
  "version": "1.1.0",
  "description": "在浏览器中添加一位温柔体贴的伴侣，陪伴您的浏览时光。支持多种互动功能，包括区域截图功能，让网页浏览更加有趣！",
  "permissions": ["activeTab", "storage", "tabs", "scripting", "webRequest"],
  "host_permissions": [
    "<all_urls>",
    "https://api.effiy.cn/*",
    "https://api.effiy.cn/*"
  ],
  "background": {
    "service_worker": "src/extension/background/index.js"
  },
  "content_scripts": [
    {
      "matches": ["<all_urls>"],
      "js": [
        "src/config.js",
        "libs/md5.js",
        "src/api/utils/token.js",
        "src/api/utils/logger.js",
        "src/api/utils/error.js",
        "src/api/utils/request.js",
        "src/utils/media/imageResourceManager.js",
        "src/utils/ui/loadingAnimationMixin.js",
        "src/utils/ui/loadingAnimation.js",
        "src/api/constants/endpoints.js",
        "src/api/core/ApiManager.js",
        "src/api/services/SessionService.js",
        "src/utils/session/sessionManager.js",
        "src/api/services/FaqService.js",
        "libs/marked.min.js",
        "libs/vue.global.js",
        "libs/html2canvas.min.js",
        "src/features/chat/export-chat-to-png.js",
        "src/utils/logging/loggerUtils.js",
        "src/utils/error/errorHandler.js",
        "src/utils/dom/domHelper.js",
        "src/extension/core/bootstrap/bootstrap.js",
        "src/features/petManager/core/petManager.core.js",
        "src/features/petManager/modules/petManager.auth.js",
        "src/features/petManager/modules/petManager.roles.js",
        "src/features/petManager/modules/petManager.robot.js",
        "src/features/petManager/modules/petManager.ai.js",
        "src/features/petManager/modules/petManager.sessionEditor.js",
        "src/features/petManager/modules/petManager.requestEditor.js",
        "src/features/petManager/modules/petManager.editor.js",
        "src/features/petManager/modules/petManager.mermaid.js",
        "src/features/petManager/modules/petManager.tags.js",
        "src/features/petManager/modules/petManager.parser.js",
        "src/features/petManager/modules/petManager.io.js",
        "src/features/faq/ui/components/FaqManager/index.js",
        "src/features/faq/ui/components/FaqTagManager/index.js",
        "src/features/faq/faq.js",
        "src/features/faq/tags.js",
        "src/features/petManager/modules/petManager.messaging.js",
        "src/features/petManager/modules/petManager.pageInfo.js",
        "src/features/petManager/modules/petManager.session.js",
        "src/features/petManager/ui/components/sessionSidebar/SessionItem/hooks/store.js",
        "src/features/petManager/ui/components/sessionSidebar/SessionItem/hooks/useComputed.js",
        "src/features/petManager/ui/components/sessionSidebar/SessionItem/hooks/useMethods.js",
        "src/features/petManager/ui/components/sessionSidebar/SessionItem/index.js",
        "src/features/petManager/ui/components/sessionSidebar/SessionList/index.js",
        "src/features/petManager/ui/components/chatWindow/ChatWindow/hooks/store.js",
        "src/features/petManager/ui/components/chatWindow/ChatWindow/hooks/useComputed.js",
        "src/features/petManager/ui/components/chatWindow/ChatWindow/hooks/useMethods.js",
        "src/features/petManager/ui/components/sessionSidebar/SessionSidebar/hooks/store.js",
        "src/features/petManager/ui/components/sessionSidebar/SessionSidebar/hooks/useComputed.js",
        "src/features/petManager/ui/components/sessionSidebar/SessionSidebar/hooks/useMethods.js",
        "src/features/petManager/ui/components/chatWindow/ChatHeader/index.js",
        "src/features/petManager/ui/components/sessionSidebar/SessionSearch/index.js",
        "src/features/petManager/ui/components/sessionSidebar/TagFilter/index.js",
        "src/features/petManager/ui/components/sessionSidebar/BatchToolbar/index.js",
        "src/features/petManager/ui/components/chatWindow/ChatInput/index.js",
        "src/features/petManager/ui/components/sessionSidebar/SessionSidebar/index.js",
        "src/features/petManager/ui/components/chatWindow/ChatMessages/index.js",
        "src/features/petManager/ui/components/chatWindow/ChatWindow/index.js",
        "src/features/petManager/ui/petManager.ui.js",
        "src/features/petManager/ui/petManager.drag.js",
        "src/features/petManager/ui/petManager.pet.js",
        "src/features/petManager/ui/petManager.state.js",
        "src/features/petManager/ui/petManager.chat.js",
        "src/features/petManager/ui/petManager.chatUi.js",
        "src/features/petManager/ui/petManager.events.js",
        "src/features/petManager/ui/petManager.comment.js",
        "src/features/petManager/ui/petManager.media.js",
        "src/features/petManager/ui/petManager.message.js",
        "src/features/petManager/ui/petManager.screenshot.js",
        "src/features/petManager/petManager.js",
        "src/extension/core/bootstrap/index.js"
      ],
      "css": [
        "src/assets/styles/tailwind.css",
        "src/assets/styles/content.css",
        "src/assets/styles/quick-comment.css",
        "src/features/petManager/ui/components/chatWindow/ChatWindow/index.css",
        "src/features/petManager/ui/components/sessionSidebar/SessionSidebar/index.css",
        "src/features/petManager/ui/components/sessionSidebar/SessionItem/index.css"
      ],
      "run_at": "document_end"
    }
  ],
  "action": {
    "default_popup": "src/views/popup/index.html",
    "default_title": "伴侣控制面板"
  },
  "commands": {
    "toggle-pet": {
      "suggested_key": {
        "default": "Ctrl+Shift+P",
        "mac": "Command+Shift+P"
      },
      "description": "切换宠物显示/隐藏"
    },
    "change-color": {
      "suggested_key": {
        "default": "Ctrl+Shift+C",
        "mac": "Command+Shift+C"
      },
      "description": "切换宠物颜色"
    },
    "reset-position": {
      "suggested_key": {
        "default": "Ctrl+Shift+R",
        "mac": "Command+Shift+R"
      },
      "description": "重置宠物位置"
    },
    "open-quick-comment": {
      "suggested_key": {
        "default": "Ctrl+Shift+K",
        "mac": "Command+Shift+K"
      },
      "description": "打开添加评论弹框"
    }
  },
  "icons": {
    "16": "src/assets/icons/icon16.png",
    "32": "src/assets/icons/icon32.png",
    "48": "src/assets/icons/icon48.png",
    "128": "src/assets/icons/icon128.png"
  },
  "web_accessible_resources": [
    {
      "resources": [
        "src/assets/icons/icon.png",
        "src/assets/images/*/icon.png",
        "src/assets/images/*/run/*.png",
        "libs/mermaid.min.js",
        "src/features/mermaid/load-mermaid.js",
        "src/features/mermaid/render-mermaid.js",
        "src/features/mermaid/preview-mermaid.js",
        "libs/jszip.min.js",
        "src/features/session/load-jszip.js",
        "src/features/session/export-sessions.js",
        "src/features/session/import-sessions.js",
        "src/features/petManager/ui/components/chatWindow/ChatWindow/index.html",
        "src/features/petManager/ui/components/chatWindow/ChatHeader/index.html",
        "src/features/petManager/ui/components/sessionSidebar/SessionSidebar/index.html",
        "src/features/petManager/ui/components/sessionSidebar/SessionItem/index.html",
        "src/features/petManager/ui/components/sessionSidebar/SessionSearch/index.html",
        "src/features/petManager/ui/components/sessionSidebar/SessionList/index.html",
        "src/features/petManager/ui/components/sessionSidebar/TagFilter/index.html",
        "src/features/petManager/ui/components/sessionSidebar/BatchToolbar/index.html",
        "src/features/petManager/ui/components/chatWindow/ChatInput/index.html",
        "src/features/petManager/ui/components/chatWindow/ChatMessages/index.html",
        "src/features/faq/ui/components/FaqManager/index.html",
        "src/features/faq/ui/components/FaqTagManager/index.html"
      ],
      "matches": ["<all_urls>"]
    }
  ]
}
