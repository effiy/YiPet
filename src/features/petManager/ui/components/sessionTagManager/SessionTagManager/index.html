<template id="yi-pet-session-tag-manager-template">
    <div class="tag-manager-modal-container" role="dialog" aria-modal="true" aria-label="чобчРЖцаЗчн╛">
        <div class="tag-manager-header">
            <div class="tag-manager-title">ЁЯП╖я╕П чобчРЖцаЗчн╛</div>
            <div class="tag-manager-close" role="button" tabindex="0" aria-label="хЕ│щЧн" title="хЕ│щЧн" @click="close">тЬХ</div>
        </div>

        <div class="tag-manager-content">
            <div class="tag-manager-input-group">
                <input
                    ref="tagInputEl"
                    class="tag-manager-input"
                    type="text"
                    placeholder="ш╛УхЕецаЗчн╛хРНчз░я╝МцМЙхЫЮш╜жц╖╗хКа"
                    v-model="store.inputValue"
                    @compositionstart="onCompositionStart"
                    @compositionend="onCompositionEnd"
                    @keydown="onInputKeydown"
                />
                <button class="tag-manager-add-btn" type="button" @click="addFromInput">ц╖╗хКа</button>
            </div>

            <div class="tag-manager-quick-tags">
                <template v-if="quickTags && quickTags.length">
                    <button
                        v-for="tag in quickTags"
                        :key="tag"
                        type="button"
                        class="tag-manager-quick-tag-btn"
                        :class="{ added: currentTags.includes(tag) }"
                        :disabled="currentTags.includes(tag)"
                        @click="addQuickTag(tag)"
                    >
                        {{ tag }}
                    </button>
                </template>
                <template v-else>
                    <div class="tag-manager-empty-msg">цЪВцЧахПпчФицаЗчн╛</div>
                </template>
            </div>

            <div class="tag-manager-tags" role="list" aria-label="цаЗчн╛хИЧшби">
                <template v-if="currentTags && currentTags.length">
                    <div
                        v-for="(tag, idx) in currentTags"
                        :key="tag + '::' + idx"
                        role="listitem"
                        :class="tagItemClass(idx)"
                        :data-tag-index="idx"
                        draggable="true"
                        @dragstart="onDragStart(idx, $event)"
                        @dragend="onDragEnd"
                        @dragover="onDragOver(idx, $event)"
                        @dragleave="onDragLeave(idx, $event)"
                        @drop="onDrop(idx, $event)"
                    >
                        <span>{{ tag }}</span>
                        <button type="button" class="tag-remove-btn" title="хИащЩдцаЗчн╛" aria-label="хИащЩдцаЗчн╛" @click="removeTag(idx)">тЬХ</button>
                    </div>
                </template>
                <template v-else>
                    <div class="tag-manager-empty-msg">цЪВцЧацаЗчн╛</div>
                </template>
            </div>

            <div class="tag-manager-footer">
                <button class="tag-manager-cancel-btn" type="button" @click="close">хПЦц╢И</button>
                <button class="tag-manager-save" type="button" @click="save">ф┐ЭхнШ</button>
            </div>
        </div>
    </div>
</template>
